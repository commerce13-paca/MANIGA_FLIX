<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>HOLDEST üóø - Exp√©rience Gaming Futuriste</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    <style>
        :root {
            --bg: #0f0c1d;
            --bg-light: #1a1730;
            --bg-card: #252240;
            --txt: #e0e0ff;
            --accent: #ff2a6d;
            --neon: #05d9e6;
            --success: #0f0;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: var(--bg);
            color: var(--txt);
            font-family: 'Orbitron', sans-serif;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(255,42,109,0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(5,217,230,0.1) 0%, transparent 20%);
        }
        
        .neon-border {
            border: 1px solid var(--neon);
            box-shadow: 0 0 10px var(--neon), inset 0 0 5px var(--neon);
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(5, 217, 230, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(5, 217, 230, 0); }
            100% { box-shadow: 0 0 0 0 rgba(5, 217, 230, 0); }
        }
        
        /* Autres styles conserv√©s et am√©lior√©s */
        /* ... [Tous les styles pr√©c√©dents conserv√©s] ... */
        
        .hologram {
            background: rgba(37, 34, 64, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        
        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .game-card {
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .game-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=Exo+2:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation et Header conserv√©s -->
    <!-- ... [Code pr√©c√©dent] ... -->

    <div class="section" id="jeux">
        <h2 style="color: var(--neon);">ARENA MULTIJOUEUR</h2>
        
        <div class="game-grid">
            <!-- Jeu 1: D√©s Connect√©s -->
            <div class="game-card neon-border hologram">
                <h3>üé≤ D√âS STELLAIRES</h3>
                <p>Lancez des d√©s virtuels synchronis√©s avec tous les joueurs</p>
                <div id="des-connectes">
                    <div id="des-container" style="font-size: 50px; margin: 20px 0;">‚öÅ ‚öÇ</div>
                    <button id="lancer-des" class="jeu-bouton pulse">LANCER LES D√âS</button>
                    <div id="resultat-des" class="resultat-jeu"></div>
                    <div id="joueurs-connectes" style="margin-top: 15px;"></div>
                </div>
            </div>
            
            <!-- Jeu 2: Combat Spatial -->
            <div class="game-card neon-border hologram">
                <h3>üöÄ COMBAT SPATIAL</h3>
                <p>Affrontez d'autres joueurs en temps r√©el</p>
                <div id="combat-spatial">
                    <div id="vaisseau-container">
                        <pre id="vaisseau" style="font-size: 30px; text-align: center;">
  /-\
 | O |
  \-/
  / \
                        </pre>
                    </div>
                    <div id="actions-combat">
                        <button class="jeu-bouton" data-attack="laser">LASER ‚ö°</button>
                        <button class="jeu-bouton" data-attack="missile">MISSILE üí£</button>
                        <button class="jeu-bouton" data-attack="bouclier">BOUCLIER üõ°Ô∏è</button>
                    </div>
                    <div id="log-combat" style="height: 100px; overflow-y: scroll; margin-top: 15px;"></div>
                </div>
            </div>
            
            <!-- Jeu 3: Course Holographique -->
            <div class="game-card neon-border hologram">
                <h3>üèéÔ∏è COURSE HOLO</h3>
                <p>Course en temps r√©el avec les autres joueurs</p>
                <div id="course-container">
                    <div id="piste-course" style="position: relative; height: 150px; background: #111; border-radius: 5px; overflow: hidden;">
                        <div class="voiture" style="position: absolute; bottom: 10px; left: 10px;">üöó</div>
                        <div class="voiture" style="position: absolute; bottom: 50px; left: 10px;">üöô</div>
                    </div>
                    <button id="accelerer" class="jeu-bouton" style="margin-top: 15px;">ACC√âL√âRER üöÄ</button>
                    <div id="positions-course" style="margin-top: 10px;"></div>
                </div>
            </div>
        </div>
        
        <div class="hologram neon-border" style="padding: 20px; margin-top: 30px;">
            <h3>üîó CONNEXION SALLE DE JEU</h3>
            <div style="display: flex; gap: 10px; margin-top: 15px;">
                <input type="text" id="salle-code" placeholder="Code salle (ex: HLDST-42)" style="flex: 1; padding: 10px; background: rgba(0,0,0,0.3); color: var(--txt); border: 1px solid var(--neon); border-radius: 5px;">
                <button id="rejoindre-salle" class="jeu-bouton">REJOINDRE</button>
                <button id="creer-salle" class="jeu-bouton">CR√âER SALLE</button>
            </div>
            <div id="salle-info" style="margin-top: 15px;"></div>
        </div>
    </div>

    <!-- Autres sections conserv√©es -->
    <!-- ... [Code pr√©c√©dent] ... -->

    <script>
        // Configuration Firebase (√† remplacer par vos cl√©s)
        const firebaseConfig = {
            apiKey: "AIzaSy...",
            authDomain: "...",
            projectId: "...",
            storageBucket: "...",
            messagingSenderId: "...",
            appId: "..."
        };
        
        // Initialisation Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        
        // √âtat du jeu
        const gameState = {
            currentRoom: null,
            players: [],
            playerId: `player_${Date.now()}`
        };
        
        // R√©f√©rence √† la salle de jeu
        let roomRef = null;
        
        // Gestion des salles
        document.getElementById('creer-salle').addEventListener('click', () => {
            const roomCode = `HLDST-${Math.floor(1000 + Math.random() * 9000)}`;
            gameState.currentRoom = roomCode;
            roomRef = db.collection('rooms').doc(roomCode);
            
            roomRef.set({
                createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                players: [gameState.playerId],
                gameState: {}
            });
            
            document.getElementById('salle-info').innerHTML = `
                <div style="color: var(--neon); margin-top: 10px;">
                    SALLE CR√â√âE: ${roomCode}<br>
                    Partagez ce code avec vos amis!
                </div>
            `;
            
            setupRoomListeners();
        });
        
        document.getElementById('rejoindre-salle').addEventListener('click', () => {
            const roomCode = document.getElementById('salle-code').value;
            if (!roomCode) return;
            
            gameState.currentRoom = roomCode;
            roomRef = db.collection('rooms').doc(roomCode);
            
            roomRef.get().then(doc => {
                if (doc.exists) {
                    const players = doc.data().players || [];
                    if (!players.includes(gameState.playerId)) {
                        players.push(gameState.playerId);
                        roomRef.update({ players });
                    }
                    
                    document.getElementById('salle-info').innerHTML = `
                        <div style="color: var(--success); margin-top: 10px;">
                            CONNECT√â √Ä: ${roomCode}<br>
                            Joueurs: ${players.length}
                        </div>
                    `;
                    
                    setupRoomListeners();
                } else {
                    document.getElementById('salle-info').innerHTML = `
                        <div style="color: var(--accent); margin-top: 10px;">
                            SALLE INTROUVABLE!
                        </div>
                    `;
                }
            });
        });
        
        function setupRoomListeners() {
            // √âcoute des changements dans la salle
            roomRef.onSnapshot(doc => {
                const data = doc.data();
                gameState.players = data.players || [];
                
                // Mise √† jour de l'interface des joueurs
                updatePlayersDisplay();
                
                // Mise √† jour des jeux
                if (data.diceResult) updateDiceResult(data.diceResult);
                if (data.racePositions) updateRace(data.racePositions);
            });
        }
        
        function updatePlayersDisplay() {
            const playersContainer = document.getElementById('joueurs-connectes');
            playersContainer.innerHTML = `<strong>JOUEURS CONNECT√âS (${gameState.players.length}):</strong><br>`;
            gameState.players.forEach(player => {
                playersContainer.innerHTML += `üë§ ${player.substring(7)}<br>`;
            });
        }
        
        // Jeu des d√©s connect√©s
        document.getElementById('lancer-des').addEventListener('click', () => {
            if (!roomRef) return;
            
            const dice1 = Math.floor(Math.random() * 6) + 1;
            const dice2 = Math.floor(Math.random() * 6) + 1;
            const diceResult = { dice1, dice2, player: gameState.playerId };
            
            roomRef.update({ diceResult });
        });
        
        function updateDiceResult(result) {
            const diceIcons = ['‚öÄ', '‚öÅ', '‚öÇ', '‚öÉ', '‚öÑ', '‚öÖ'];
            document.getElementById('des-container').innerHTML = 
                `${diceIcons[result.dice1 - 1]} ${diceIcons[result.dice2 - 1]}`;
            
            document.getElementById('resultat-des').innerHTML = 
                `Joueur ${result.player.substring(7)}: ${result.dice1 + result.dice2}`;
        }
        
        // Jeu de course
        document.getElementById('accelerer').addEventListener('click', () => {
            if (!roomRef) return;
            
            roomRef.get().then(doc => {
                const data = doc.data();
                const positions = data.racePositions || {};
                
                if (!positions[gameState.playerId]) {
                    positions[gameState.playerId] = 5;
                } else {
                    positions[gameState.playerId] += Math.random() * 20;
                }
                
                roomRef.update({ racePositions: positions });
            });
        });
        
        function updateRace(positions) {
            const carContainer = document.getElementById('piste-course');
            carContainer.innerHTML = '';
            
            Object.keys(positions).forEach(playerId => {
                const position = positions[playerId] % 90;
                const carElement = document.createElement('div');
                carElement.className = 'voiture';
                carElement.textContent = playerId === gameState.playerId ? 'üöó' : 'üöô';
                carElement.style.position = 'absolute';
                carElement.style.bottom = `${10 + (Object.keys(positions).indexOf(playerId) * 40)}px`;
                carElement.style.left = `${position}%`;
                
                carContainer.appendChild(carElement);
            });
        }
        
        // Initialisation
        document.addEventListener('DOMContentLoaded', () => {
            // Effets holographiques
            const elements = document.querySelectorAll('.hologram');
            elements.forEach(el => {
                el.addEventListener('mousemove', (e) => {
                    const rect = el.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    el.style.setProperty('--x', `${x}px`);
                    el.style.setProperty('--y', `${y}px`);
                });
            });
        });
    </script>
</body>
</html>
