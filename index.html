<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The STRONGEST HOLDER - Boutique</title>
    <meta name="description" content="Découvrez la boutique en ligne The STRONGEST HOLDER. Achetez des produits personnalisés comme des t-shirts, des chemises, et des casquettes. Livraison rapide et paiement sécurisé.">
    <meta name="keywords" content="boutique en ligne, produits personnalisés, t-shirts, chemises, casquettes, mode">
    <meta property="og:title" content="The STRONGEST HOLDER - Boutique">
    <meta property="og:description" content="Découvrez des produits personnalisés de qualité, des t-shirts, des chemises et des casquettes dans notre boutique en ligne.">
    <meta property="og:image" content="https://mcusercontent.com/40a9f1a77d46874eba2309d88/images/309df03c-fa6b-2c34-8faf-bcb0b827a748.jpg">
    <meta property="og:url" content="https://web-site13015.github.io/Marseille_by_la_reunion_shopping/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="The STRONGEST HOLDER - Boutique">
    <meta name="twitter:description" content="Trouvez des produits personnalisés comme des t-shirts, chemises, et casquettes dans notre boutique en ligne.">
    <meta name="twitter:image" content="https://mcusercontent.com/40a9f1a77d46874eba2309d88/images/309df03c-fa6b-2c34-8faf-bcb0b827a748.jpg">
    <meta name="robots" content="index, follow">
    <meta http-equiv="Content-Language" content="fr">
    <link rel="icon" href=https://mcusercontent.com/40a9f1a77d46874eba2309d88/images/309df03c-fa6b-2c34-8faf-bcb0b827a748.jpg" type="image/x-icon">
    <link rel="icon" href="https://mcusercontent.com/40a9f1a77d46874eba2309d88/images/309df03c-fa6b-2c34-8faf-bcb0b827a748.jpg" type="image/x-icon">

<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
        color: #333;
    }

    header {
        background-color: #222;
        color: #fff;
        text-align: center;
        padding: 20px 0;
        font-size: 1.5em;
    }

    section {
        padding: 20px;
        text-align: center;
    }

    ul {
        list-style-type: none;
        padding: 0;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
    }

    .product {
        margin: 10px;
        padding: 15px;
        border: 1px solid #ccc;
        border-radius: 5px;
        background-color: #fff;
        box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
        width: 200px;
    }

    .product img {
        max-width: 100%;
        border-radius: 5px;
    }

    .product h3 {
        margin: 10px 0 5px;
    }

    footer {
        background-color: #222;
        color: #fff;
        text-align: center;
        padding: 10px 0;
    }

    /* Panier */
    #cart {
        position: fixed;
        top: 20px;
        right: 20px;
        background-color: #fff;
        border: 1px solid #ccc;
        border-radius: 10px;
        box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.3);
        padding: 15px;
        width: 300px;
        display: none;
        z-index: 999;
    }

    #cart h3 {
        margin: 0 0 10px;
    }

    .cart-item {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
    }

    #cart-total {
        font-weight: bold;
        margin-top: 10px;
    }

    .cart-actions {
        display: flex;
        justify-content: space-between;
        margin-top: 15px;
    }

    /* Bouton circulaire flottant */
    #cart-button {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: #ffcc00;
        color: #000;
        border: none;
        border-radius: 50%;
        width: 60px;
        height: 60px;
        font-size: 1.5em;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.3);
    }

     /* Formulaire de commande */
#checkout-form {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #000;
    color: #fff;
    border-radius: 10px;
    box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.5);
    padding: 25px;
    width: 360px; /* Taille du formulaire augmentée */
    z-index: 9999;
    max-width: 100%;
    box-sizing: border-box;
}

/* S'assurer que le label et l'input sont bien espacés et sans débordement */
#checkout-form label {
    display: block;
    margin-bottom: 6px; /* Plus d'espace sous les labels */
    font-weight: bold;
    font-size: 1em; /* Augmentation de la taille de la police pour plus de lisibilité */
    word-wrap: break-word;
}

#checkout-form input,
#checkout-form select {
    width: 100%;  /* Utilise 100% de la largeur du formulaire */
    margin-bottom: 12px; /* Espacement plus large entre les éléments */
    padding: 10px;
    border: none;
    border-radius: 5px;
    font-size: 1em; /* Augmenter la taille de la police des champs */
    box-sizing: border-box;
    overflow: hidden;
}

/* Bouton de soumission */
#checkout-form button {
    background-color: #ffcc00;
    color: #000;
    padding: 12px;
    border: none;
    border-radius: 5px;
    width: 100%;
    cursor: pointer;
    font-weight: bold;
    font-size: 1.1em; /* Taille du texte légèrement plus grande pour le bouton */
    box-sizing: border-box;
}

/* Message d'information sur les frais de livraison */
#delivery-info {
    font-size: 1em; /* Taille normale du texte pour les infos supplémentaires */
    margin-top: 12px;
    color: #fff;
    word-wrap: break-word;
}

/* Responsivité : assurez-vous que tout reste fluide */
@media (max-width: 480px) {
    #checkout-form {
        width: 90%; /* Pour les écrans plus petits, réduire la largeur à 90% */
    }

    #checkout-form input,
    #checkout-form select,
    #checkout-form button {
        font-size: 0.9em; /* Réduire légèrement la taille des éléments sur les petits écrans */
    }
} 
    
      .product-rating {
    margin-top: 10px;
    font-size: 1.2em;
    color: gold;
}

.star {
    margin-right: 3px;
    cursor: pointer;
}

.star:hover {
    color: #ffcc00; /* Changer la couleur au survol */
}
</style>
</head>
<body>
   <header>
    <img src="https://mcusercontent.com/40a9f1a77d46874eba2309d88/images/5ae61051-91f9-f0b3-a76f-cee7f2841b27.jpg" 
         alt="Logo de The STRONGEST HOLDER" style="max-width: 200px;">
        <div id="order-history" style="display:none;">
    <h3>Historique des commandes</h3>
    <ul id="order-list"></ul>
</div>
       <div id="user-info" style="display:none;">
    <p>Bienvenue, <span id="user-name"></span> (<span id="user-email"></span>)</p>
    <button id="logout-btn">Se déconnecter</button>
</div>
  <div id="auth-buttons">
    <button id="login-btn">Connexion</button>
    <button id="signup-btn">Inscription</button>
</div>
  <div class="filters">
        <select id="product-filter" onchange="filterProducts()">
            
            <option value="all">Tous les produits</option>
            <option value="shirts">Chemises</option>
            <option value="tshirts">T-shirts</option>
            <option value="hats">Casquettes</option>           
        </select>     
    </div>
        
    <!-- Bouton pour revenir à l'accueil -->
    <div>
        <button onclick="window.location.href='index.html';">Retour à l'accueil</button>
    </div>
      
</header>

<ul id="product-list"></ul>



  <section>
    <h2>Nos Produits</h2>
    <ul>
        <li class="product">
            <img src="https://mcusercontent.com/40a9f1a77d46874eba2309d88/images/0c06ad64-e859-f176-3574-0a06e2994731.jpeg" alt="Chemise">
            <h3>Chemise Personnalisée</h3>
            <p>Prix: $30</p>
            <button onclick="addToCart('Chemise Personnalisée', 30)">Acheter</button>
            <!-- Évaluations par étoiles -->
            <div class="product-rating">
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9734;</span>
            </div>
        </li>
        <li class="product">
            <img src="https://mcusercontent.com/40a9f1a77d46874eba2309d88/images/0c06ad64-e859-f176-3574-0a06e2994731.jpeg" alt="T-shirt">
            <h3>T-shirt Personnalisé</h3>
            <p>Prix: $20</p>
            <button onclick="addToCart('T-shirt Personnalisé', 20)">Acheter</button>
            <!-- Évaluations par étoiles -->
            <div class="product-rating">
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9734;</span>
                <span class="star">&#9734;</span>
            </div>
        </li>
        <li class="product">
            <img src="https://mcusercontent.com/40a9f1a77d46874eba2309d88/images/0c06ad64-e859-f176-3574-0a06e2994731.jpeg" alt="Casquette">
            <h3>Casquette Personnalisée</h3>
            <p>Prix: $15</p>
            <button onclick="addToCart('Casquette Personnalisée', 15)">Acheter</button>
            <!-- Évaluations par étoiles -->
            <div class="product-rating">
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9734;</span>
                <span class="star">&#9734;</span>
                <span class="star">&#9734;</span>
            </div>
        </li>
    </ul>
      <ul id="product-list"></ul>
</section>

    <footer>
        <p>&copy; 2024 The STRONGEST HOLDER</p>
    </footer>

    <!-- Panier -->
    <div id="cart">
        <h3>Mon Panier</h3>
        <div id="cart-items"></div>
        <p id="cart-total">Total: $0</p>
        <div class="cart-actions">
            <button onclick="checkout()">Commander</button>
            <button onclick="closeCart()">Fermer</button>
        </div>
    </div>

    <!-- Bouton circulaire du panier -->
    <button id="cart-button" onclick="toggleCart()">🛒</button>

    <!-- Formulaire de commande -->
    <div id="checkout-form">
        <h3>Finaliser la commande</h3>
        <form id="order-form">
            <label for="name">Nom:</label>
            <input type="text" id="name" name="name" required>
            <label for="phone">Numéro de téléphone:</label>
            <input type="tel" id="phone" name="phone" required>
            <label for="address">Adresse:</label>
            <input type="text" id="address" name="address" required oninput="calculateDistance()">
            <label for="distance">Distance (en km):</label>
            <input type="number" id="distance" name="distance" required readonly>
              <label for="payment">Mode de paiement:</label>
            <p id="delivery-info">Les frais de livraison sont calculés en fonction de la distance depuis notre entrepôt et de votre adresse.</p>           
            <select id="payment" name="payment" required>
                <option value="card">Carte Bancaire</option>
                <option value="cash">Paiement à la livraison</option>
            </select>
            <p id="delivery-cost"></p>
            <button type="submit">Confirmer la commande</button>
               <button type="button" id="close-form" onclick="closeForm()">Fermer</button>
        </form>
    </div>
    
    
    <div id="login-modal" style="display:none;">
    <h3>Connexion</h3>
    <input type="email" id="login-email" placeholder="Email" required>
    <input type="password" id="login-password" placeholder="Mot de passe" required>
    <button id="login-submit">Se connecter</button>
    <button id="close-login">Fermer</button>
</div>

<div id="signup-modal" style="display:none;">
    <h3>Inscription</h3>
    <input type="email" id="signup-email" placeholder="Email" required>
    <input type="password" id="signup-password" placeholder="Mot de passe" required>
    <button id="signup-submit">S'inscrire</button>
    <button id="close-signup">Fermer</button>
</div>


<script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-auth.js"></script>

<script>
  // Firebase Configuration
  const firebaseConfig = {
    apiKey: "AIzaSyAxt0weMXXJvfjxRuIENvy47tX3U7dyZ0M",
    authDomain: "flux2024oldest.firebaseapp.com",
    projectId: "flux2024oldest",
    storageBucket: "flux2024oldest.appspot.com",
    messagingSenderId: "798534273767",
    appId: "1:798534273767:web:b4642c7bc6e009ef433042",
    measurementId: "G-DB6ZSFBDT0"
};

  // Initialize Firebase
  const app = firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  // Show login modal
  document.getElementById('login-btn').addEventListener('click', () => {
    document.getElementById('login-modal').style.display = 'block';
  });

  // Show signup modal
  document.getElementById('signup-btn').addEventListener('click', () => {
    document.getElementById('signup-modal').style.display = 'block';
  });

  // Close login modal
  document.getElementById('close-login').addEventListener('click', () => {
    document.getElementById('login-modal').style.display = 'none';
  });

  // Close signup modal
  document.getElementById('close-signup').addEventListener('click', () => {
    document.getElementById('signup-modal').style.display = 'none';
  });

  // Handle login
  document.getElementById('login-submit').addEventListener('click', () => {
    const email = document.getElementById('login-email').value;
    const password = document.getElementById('login-password').value;

    auth.signInWithEmailAndPassword(email, password).then(userCredential => {
      const user = userCredential.user;
      updateUserUI(user);
      document.getElementById('login-modal').style.display = 'none';
    }).catch(error => {
      alert(error.message);
    });
  });

  // Handle signup
  document.getElementById('signup-submit').addEventListener('click', () => {
    const email = document.getElementById('signup-email').value;
    const password = document.getElementById('signup-password').value;

    auth.createUserWithEmailAndPassword(email, password).then(userCredential => {
      const user = userCredential.user;
      updateUserUI(user);
      document.getElementById('signup-modal').style.display = 'none';
    }).catch(error => {
      alert(error.message);
    });
  });

  // Handle logout
  document.getElementById('logout-btn').addEventListener('click', () => {
    auth.signOut().then(() => {
      resetUserUI();
    }).catch(error => {
      alert(error.message);
    });
  });

  // Update UI for logged-in users
  function updateUserUI(user) {
    document.getElementById('auth-buttons').style.display = 'none';
    document.getElementById('user-info').style.display = 'block';
    document.getElementById('user-name').innerText = user.displayName || "Utilisateur";
    document.getElementById('user-email').innerText = user.email;
  }

  // Reset UI for logged-out users
  function resetUserUI() {
    document.getElementById('auth-buttons').style.display = 'block';
    document.getElementById('user-info').style.display = 'none';
  }

  // Monitor user authentication state
  auth.onAuthStateChanged(user => {
    if (user) {
      updateUserUI(user);
    } else {
      resetUserUI();
    }
  });
</script>
    <script>
        let cart = [];
        let total = 0;

        function addToCart(name, price) {
            cart.push({ name, price });
            total += price;
            updateCart();
            document.getElementById('cart').style.display = 'block'; // Afficher le panier immédiatement
        }

        function updateCart() {
            const cartItems = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');
            cartItems.innerHTML = '';
            cart.forEach(item => {
                const div = document.createElement('div');
                div.className = 'cart-item';
                div.innerHTML = `${item.name} - $${item.price}`;
                cartItems.appendChild(div);
            });
            cartTotal.innerHTML = `Total: $${total}`;
        }

        function toggleCart() {
            const cart = document.getElementById('cart');
            cart.style.display = cart.style.display === 'block' ? 'none' : 'block';
        }

        function closeCart() {
            document.getElementById('cart').style.display = 'none';
        }

        function checkout() {
            const distance = parseFloat(document.getElementById('distance').value);
            const deliveryCost = calculateDeliveryCost(distance);
            document.getElementById('delivery-cost').innerText = `Frais de livraison : $${deliveryCost.toFixed(2)}`;
            document.getElementById('checkout-form').style.display = 'block';
        }

        function calculateDeliveryCost(distanceKm) {
            if (distanceKm <= 3) return 1.50;
            if (distanceKm <= 5) return 3.50;
            return 5.50;
        }

        function calculateDistance() {
            const address = document.getElementById('address').value;

            if (address.trim() !== "") {
                // Ici vous pouvez intégrer un calcul de distance via une API gratuite comme OpenCage Geocoder ou OpenStreetMap.
                // Cependant, pour cet exemple, on suppose une distance aléatoire.
                
                // Exemple simple: générer une distance aléatoire pour simuler une réponse
                let distanceKm = Math.floor(Math.random() * 10) + 1; // Distance entre 1 et 10 km
                document.getElementById('distance').value = distanceKm;

                // Afficher automatiquement les frais de livraison en fonction de la distance
                const deliveryCost = calculateDeliveryCost(distanceKm);
                document.getElementById('delivery-cost').innerText = `Frais de livraison : $${deliveryCost.toFixed(2)}`;
            }
        }

        document.getElementById('order-form').addEventListener('submit', function(event) {
            event.preventDefault(); // Empêche l'envoi réel du formulaire pour la simulation

            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const address = document.getElementById('address').value;
            const paymentMethod = document.getElementById('payment').value;
            const distance = document.getElementById('distance').value;
            const deliveryCost = calculateDeliveryCost(parseFloat(distance));

            // Simuler une soumission réussie
            alert(`Commande reçue!\n\nNom: ${name}\nTéléphone: ${phone}\nAdresse: ${address}\nMéthode de paiement: ${paymentMethod}\nTotal: $${total + deliveryCost}\nFrais de livraison: $${deliveryCost}`);

            // Réinitialiser le panier et le formulaire
            cart = [];
            total = 0;
            updateCart();
            document.getElementById('checkout-form').style.display = 'none';
            document.getElementById('delivery-cost').innerText = '';  // Réinitialiser les frais de livraison
            document.getElementById('distance').value = '';  // Réinitialiser la distance
        });
    
    // Fonction pour fermer le formulaire
function closeForm() {
    document.getElementById('checkout-form').style.display = 'none';  // Masquer le formulaire
}
    </script>
  

<script>
    // Tableau des produits avec leurs détails
    const products = [
        { 
            name: "Chemise Personnalisée", 
            category: "shirts", 
            image: "https://mcusercontent.com/40a9f1a77d46874eba2309d88/images/a00c2389-2107-5917-9fe6-42123c3f2ef2.jpg", 
            price: 30 
        },
        { 
            name: "T-shirt Personnalisé", 
            category: "tshirts", 
            image: "https://mcusercontent.com/40a9f1a77d46874eba2309d88/images/091dc5ec-d707-986d-a1c1-89c042184015.jpg", 
            price: 20 
        },
        { 
            name: "Casquette Personnalisée", 
            category: "hats", 
            image: "https://mcusercontent.com/40a9f1a77d46874eba2309d88/images/40845e93-dc50-0b7e-b717-584a89b8351e.jpg", 
            price: 15 
        }
    ];

    /**
     * Affiche la liste des produits dans le HTML
     * @param {Array} filteredProducts - Liste des produits à afficher
     */
    function displayProducts(filteredProducts = products) {
        const productList = document.getElementById('product-list'); // Récupère la liste
        productList.innerHTML = ''; // Réinitialise l'affichage

        filteredProducts.forEach(product => {
            const productItem = `
                <li class="product">
                    <img src="${product.image}" alt="${product.name}" style="max-width: 100px;">
                    <h3>${product.name}</h3>
                    <p>Prix: ${product.price} €</p>
                </li>
            `;
            productList.innerHTML += productItem; // Ajoute chaque produit à la liste
        });
    }

    /**
     * Filtre les produits selon la catégorie sélectionnée
     */
    function filterProducts() {
        const selectedCategory = document.getElementById('product-filter').value; // Catégorie choisie

        if (selectedCategory === "all") {
            displayProducts(products); // Affiche tous les produits
        } else {
            const filteredProducts = products.filter(
                product => product.category === selectedCategory
            );
            displayProducts(filteredProducts); // Affiche seulement les produits filtrés
        }
    }

    // Associe le filtre au changement de catégorie
    document.getElementById('product-filter').addEventListener('change', filterProducts);

    // Affiche tous les produits par défaut
    displayProducts();
</script>
    <script>
  auth.onAuthStateChanged(user => {
    if (user) {
        fetchOrderHistory(user.uid);
    }
});
    
    import { getDocs, collection, query, where } from "firebase/firestore";

function fetchOrderHistory(userId) {
    const ordersRef = collection(db, "orders");
    const userOrdersQuery = query(ordersRef, where("userId", "==", userId));

    getDocs(userOrdersQuery)
        .then(querySnapshot => {
            const orderList = document.getElementById('order-list');
            orderList.innerHTML = '';

            querySnapshot.forEach(doc => {
                const order = doc.data();
                const listItem = document.createElement('li');
                listItem.textContent = `Commande du ${order.date}: Total - ${order.total}$`;
                orderList.appendChild(listItem);
            });

            document.getElementById('order-history').style.display = 'block';
        })
        .catch(error => console.error("Erreur lors de la récupération des commandes :", error));
}
    
    // Ajoutez Firebase Firestore
import { getFirestore, doc, setDoc } from "firebase/firestore";

// Initialise Firestore
const db = getFirestore(app);

// Fonction pour enregistrer l'historique des ventes
function saveOrder(userId, cart, total, deliveryCost) {
    const orderData = {
        userId: userId,
        items: cart,
        total: total + deliveryCost,
        date: new Date().toISOString(),
    };

    setDoc(doc(db, "orders", `${userId}_${Date.now()}`), orderData)
        .then(() => alert("Commande enregistrée avec succès"))
        .catch(error => console.error("Erreur lors de l'enregistrement de la commande :", error));
}
    
    
    
    </script>  
</body>
</html>
